<!-- *********************************************************************** -->
<!--                                                                         -->
<!--                                                      :::      ::::::::  -->
<!-- index.html                                         :+:      :+:    :+:  -->
<!--                                                  +:+ +:+         +:+    -->
<!-- By: mbougrin <mbougrin@student.42.fr>          +#+  +:+       +#+       -->
<!--                                              +#+#+#+#+#+   +#+          -->
<!-- Created: 2017/07/21 08:00:27 by mbougrin          #+#    #+#            -->
<!-- Updated: 2017/08/07 07:14:52 by mbougrin         ###   ########.fr      -->
<!--                                                                         -->
<!-- *********************************************************************** -->

<!DOCTYPE html>
<html lang="en">
	<head>
		<!-- Google AdSense -->
		<script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
		<script>
  (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-7992805410806745",
	      enable_page_level_ads: true
			    });
		</script>

		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
		<meta name="description" content="">
		<meta name="author" content="">
		<link rel="icon" href="../../favicon.ico">

		<title>42 Student</title>

		<!-- Bootstrap core CSS -->
		<link href="/css/bootstrap.min.css" rel="stylesheet">
		<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
		<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
		<!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
		<link href="/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

		<!-- Custom styles for this template -->
		<link href="/dashboard.css" rel="stylesheet">

		<!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
		<!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
		<script src="js/ie-emulation-modes-warning.js"></script>

		<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
	  <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
	  <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	  <![endif]-->
	</head>
	<body onload="init_body()">
		<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
			<div class="container-fluid">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<a class="navbar-brand" href="#" onclick="home()">42 Student Mbougrin</a>
				</div>
				<div class="navbar-collapse collapse" aria-expanded="false" style="height:1px;">
					<ul class="nav navbar-nav">
						<li class="active" id="homeid"><a href="#" onclick="home()" id="home">
							<span class="glyphicon glyphicon-home"></span> Accueil</a>
						</li>
						<li id="projetid"><a href="#" onclick="project()" id="projet">
							<span class="glyphicon glyphicon-file"></span> Projet 42</a>
						</li>
						<li id="opensourceid"><a href="#" onclick="opensource()" id="opensource">
							<span class="glyphicon glyphicon-folder-open"></span> Autodidacte/OpenSource</a>
						</li>
						<li id="xpid"><a href="#" onclick="work()" id="xp">
							<span class="glyphicon glyphicon-briefcase"></span> Expérience Professionnel</a>
						</li>
						<li id="schoolid"><a href="#" onclick="school()" id="school">
							<span class="glyphicon glyphicon-education"></span> Formation</a>
						</li>
						<li id="skillid"><a href="#" onclick="skill()" id="skill">
							<span class="glyphicon glyphicon-cog"></span> Compétence</a>
						</li>
					<!--	<li id="tutorialid"><a href="#" onclick="tutorial()" id="tutorial">
								<span class="glyphicon glyphicon-book"></span> Tutoriel</a>
								</li> -->
						<li id="aboutmeid"><a href="#" onclick="aboutme()" id="aboutme">
								<span class="glyphicon glyphicon-user"></span> A Propos de Moi</a>
						</li>
						<li id="contactid"><a href="#" onclick="contact()">
								<span class="glyphicon glyphicon-envelope"></span> Contact</a>
						</li>
					</ul>
					<ul class="nav navbar-nav navbar-right">
						<li><a href="#" onclick="my_translate()" id="langue">
							<span class="glyphicon glyphicon-globe"></span> Fr/Eng
						</a></li>
					</ul>
				</div>
			</div>
		</div>
		<div class="container-fluid">
			<div class="row">
				<div class="col-sm-3 col-md-2 sidebar">
					<div>
					</div>
					<ul class="nav nav-sidebar" id="side_bar">
					</ul>
				</div>
				<div class="col-sm-8 col-sm-offset-3 col-md-8 col-md-offset-2 main">
					<h2 class="sub-header col-md-offset-1" id="name_header">Accueil</h2>
					<div class="table-responsive col-md-10 col-md-offset-1 rounded" id="main_div" style="font-family: 'Open Sans', sans-serif;">

					</div>
				</div>
			</div>
		</div>
	
		<!-- Bootstrap core JavaScript
	  ================================================== -->
	  <!-- Placed at the end of the document so the pages load faster -->
	  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	  <script>
		var oldpage = "homeid";
		var langue = "fr";
		var stylea = "style=width:130px;";
		var sortSkill = "graph";

		var ret = [];
		var rettool = [];
		function pdf()
		{
			document.getElementById('name_header').innerHTML = "Curriculum Vitae";

			document.getElementById('main_div').innerHTML = '<p style="text-align: center;"><object id="cv" data="http://mozilla.github.io/pdf.js/web/viewer.html?file=http%3A%2F%2Finfluence-pc.fr%2Fenvois%2Fdocuments%2Fcv.pdf#zoom=page-fit" type="text/html">La visualisation n’est pas encore disponible sur votre navigateur, veillez à le mettre à jour.</object></p>';
			pdfDocument = document.getElementById("cv");
			pdfDocument.style.width = "710px";
			pdfDocument.style.height = "742px";
			alert("tu fait koi la xd");
		}
		function init_body()
		{
			init_skill();
			print_sidebar();
			home();
		}
		function init_skill()
		{
			const req = new XMLHttpRequest();
			req.open('GET', 'project42.xml', false);
			req.overrideMimeType('text/xml');
			req.send(null);
			if (req.status === 200 && req.readyState === XMLHttpRequest.DONE)
			{
				var parser = new DOMParser();
				xmlDoc = parser.parseFromString(req.responseText, "text/xml");
				var mainNode = xmlDoc.getElementsByTagName('allproject')[0];
				for (var i = 0 ; i < xmlDoc.getElementsByTagName('project').length ; ++i)
				{
					var split;
					var node = mainNode.getElementsByTagName('project')[i];
					split = node.getElementsByTagName('language')[0].childNodes[0].nodeValue.split(' ');
					for (var j = 0 ; j < split.length ; ++j)
					{
						var index;
						if ((index = search(ret, split[j])) > -1)
							ret[index].nb++;
						else
							ret.push({name: split[j], nb: 1});
					}
					split = node.getElementsByTagName('tool')[0].childNodes[0].nodeValue.split(' ');
					for (var j = 0 ; j < split.length ; ++j)
					{
						var index;
						if ((index = search(rettool, split[j])) > -1)
							rettool[index].nb++;
						else
							rettool.push({name: split[j], nb: 1});
					}
				}	
			}
			req.open('GET', 'opensource.xml', false);
			req.overrideMimeType('text/xml');
			req.send(null);
			if (req.status === 200 && req.readyState === XMLHttpRequest.DONE)
			{
				var parser = new DOMParser();
				xmlDoc = parser.parseFromString(req.responseText, "text/xml");
				var mainNode = xmlDoc.getElementsByTagName('allproject')[0];
				for (var i = 0 ; i < xmlDoc.getElementsByTagName('project').length ; ++i)
				{
					var split;
					var node = mainNode.getElementsByTagName('project')[i];
					split = node.getElementsByTagName('language')[0].childNodes[0].nodeValue.split(' ');
					for (var j = 0 ; j < split.length ; ++j)
					{
						var index;
						if ((index = search(ret, split[j])) > -1)
							ret[index].nb++;
						else
							ret.push({name: split[j], nb: 1});
					}
					split = node.getElementsByTagName('tool')[0].childNodes[0].nodeValue.split(' ');
					for (var j = 0 ; j < split.length ; ++j)
					{
						var index;
						if ((index = search(rettool, split[j])) > -1)
							rettool[index].nb++;
						else
							rettool.push({name: split[j], nb: 1});
					}
				}
			}
			req.open('GET', 'xp.xml', false);
			req.overrideMimeType('text/xml');
			req.send(null);
			if (req.status === 200 && req.readyState === XMLHttpRequest.DONE)
			{
				var parser = new DOMParser();
				xmlDoc = parser.parseFromString(req.responseText, "text/xml");
				var mainNode = xmlDoc.getElementsByTagName('work')[0];
				for (var i = 0 ; i < xmlDoc.getElementsByTagName('job').length ; ++i)
				{
					var split;
					var node = mainNode.getElementsByTagName('job')[i];

					var splitDate = node.getElementsByTagName('date')[0].childNodes[0].nodeValue.split(' ');

					var skill = skillInDate(splitDate);
					split = node.getElementsByTagName('language')[0].childNodes[0].nodeValue.split(' ');
					for (var j = 0 ; j < split.length ; ++j)
					{
						var index;
						if ((index = search(ret, split[j])) > -1)
							ret[index].nb += skill;
						else
							ret.push({name: split[j], nb: skill});
					}
					split = node.getElementsByTagName('tool')[0].childNodes[0].nodeValue.split(' ');
					for (var j = 0 ; j < split.length ; ++j)
					{
						var index;
						if ((index = search(rettool, split[j])) > -1)
							rettool[index].nb += skill;
						else
							rettool.push({name: split[j], nb: skill});
					}
				}
			}
			rettool.sort(compare);
			ret.sort(compare);
		}
		function print_sidebar()
		{
			const req = new XMLHttpRequest();
			req.open('GET', 'contact.xml', false);
			req.overrideMimeType('text/xml');
			req.send(null);
			if (req.status === 200 && req.readyState === XMLHttpRequest.DONE)
			{
				var parser = new DOMParser();
				xmlDoc = parser.parseFromString(req.responseText, "text/xml");
				
				var mainNode = xmlDoc.getElementsByTagName('contact')[0];

				var github = 	'<a target="_blank" href="' +
								mainNode.getElementsByTagName('github')[0].childNodes[0].nodeValue 
								+ '">' + "Github" + '</a>';
				var linkedin = 	'<a target="_blank" href="' + 
								mainNode.getElementsByTagName('linkedin')[0].childNodes[0].nodeValue 
								+ '">' 
								+ "Linkedin" + '</a>';
				var viadeo = 	'<a target="_blank" href="' + 
								mainNode.getElementsByTagName('viadeo')[0].childNodes[0].nodeValue 
								+ '">' + "Viadeo" + '</a>';
				var school = 	'<a target="_blank" href="' + 
								mainNode.getElementsByTagName('school')[0].childNodes[0].nodeValue 
								+ '">' + 
								"CV 42" + '</a>';
				var email = 	'<a href="' + 
								"mailto:" + 
								mainNode.getElementsByTagName('email')[0].childNodes[0].nodeValue
								+ '">' + "Contact Email" + '</a>';
				var email42 = 	'<a href="' + 
								"mailto:" + 
								mainNode.getElementsByTagName('email42')[0].childNodes[0].nodeValue
								+ '">' + "Contact Email42" + '</a>';
				var pdf = '<a href="#" onclick="pdf()">CV Pdf</a>';
				var style =		"style=font-size:16px;padding-right:15px;height:42px;";
				document.getElementById('side_bar').innerHTML = 
				"<li>" + github + "</li>" + 
				"<li>" + linkedin + "</li>" + 
				"<li>" + viadeo + "</li>" + 
				"<li>" + school + "</li>" + 
				"<li>" + email + "</li>" + 
				"<li>" + email42 + "</li>" + 
				"<li>" + pdf + "</li>"; 
			}
		}
		function my_translate()
		{
			if (langue == "fr")
			{
				document.getElementById('home').innerHTML = '<span class="glyphicon glyphicon-home"></span> Home'; 
				document.getElementById('projet').innerHTML = '<span class="glyphicon glyphicon-file"></span> Project 42'; 
				document.getElementById('opensource').innerHTML = '<span class="glyphicon glyphicon-folder-open"></span> Self-Educated/OpenSource'; 
				document.getElementById('xp').innerHTML = '<span class="glyphicon glyphicon-briefcase"></span> Professional Experience'; 
				document.getElementById('school').innerHTML = '<span class="glyphicon glyphicon-education"></span> Education'; 
				document.getElementById('skill').innerHTML = '<span class="glyphicon glyphicon-cog"></span> Skill'; 
//				document.getElementById('tutorial').innerHTML = '<span class="glyphicon glyphicon-book"></span> Tutorial'; 
				document.getElementById('aboutme').innerHTML = '<span class="glyphicon glyphicon-user"></span> About Me'; 
				langue = "eng";
				document.getElementById('langue').innerHTML = '<span class="glyphicon glyphicon-globe"></span> Eng/Fr';
			}
			else
			{
				document.getElementById('home').innerHTML = '<span class="glyphicon glyphicon-home"></span> Accueil'; 
				document.getElementById('projet').innerHTML = '<span class="glyphicon glyphicon-file"></span> Projet 42'; 
				document.getElementById('opensource').innerHTML = '<span class="glyphicon glyphicon-folder-open"></span> Autodidacte/OpenSource'; 
				document.getElementById('xp').innerHTML = '<span class="glyphicon glyphicon-briefcase"></span> Expérience Professionnel'; 
				document.getElementById('school').innerHTML = '<span class="glyphicon glyphicon-education"></span> Formation'; 
				document.getElementById('skill').innerHTML = '<span class="glyphicon glyphicon-cog"></span> Compétence'; 
//				document.getElementById('tutorial').innerHTML = '<span class="glyphicon glyphicon-book"></span> Tutoriel'; 
				document.getElementById('aboutme').innerHTML = '<span class="glyphicon glyphicon-user"></span> A Propos de Moi'; 
				langue = "fr";
				document.getElementById('langue').innerHTML = '<span class="glyphicon glyphicon-globe"></span> Fr/Eng';
			}
			if (document.getElementById('name_header').innerHTML == "Accueil"
			|| document.getElementById('name_header').innerHTML == "Home")
					home();
			else if (document.getElementById('name_header').innerHTML == "Projet 42"
			|| document.getElementById('name_header').innerHTML == "Project 42")
					project();
			else if (document.getElementById('name_header').innerHTML == "Autodidacte/OpenSource"
			|| document.getElementById('name_header').innerHTML == "Self-Educated/OpenSource")
					opensource();
			else if (document.getElementById('name_header').innerHTML == "Expérience Professionnel"
			|| document.getElementById('name_header').innerHTML == "Professional Experience")
					work();
			else if (document.getElementById('name_header').innerHTML == "Formation"
			|| document.getElementById('name_header').innerHTML == "Education")
					school();
			else if (document.getElementById('name_header').innerHTML == "Compétence"
			|| document.getElementById('name_header').innerHTML == "Skill")
					skill();
//			else if (document.getElementById('name_header').innerHTML == "Tutoriel"
//			|| document.getElementById('name_header').innerHTML == "Tutorial")
//					tutorial();
			else if (document.getElementById('name_header').innerHTML == "A Propos de Moi"
			|| document.getElementById('name_header').innerHTML == "About Me")
					aboutme();
		}
		function parseIntoParagraph(text)
		{
			var ret = "";
			for (var i = 0 ; text.charAt(i) ; ++i)
			{
				if (text.charAt(i) == '.' && text.charAt(i + 1) == ' ')
				{
					ret += text.charAt(i);
					ret += "</p><p>";
				}
				else if (text.charAt(i) == ':' && text.charAt(i + 1) == ' ')
				{
					ret += text.charAt(i);
					ret += "</p><p>";
				}
				else
					ret += text.charAt(i);
			}
			ret += "</p>";
			return (ret)
		}
		function home()
		{
			$('.navbar-collapse').collapse('hide');
			document.getElementById(oldpage).className = '';
			oldpage = 'homeid';
			document.getElementById(oldpage).className = 'active';
			if (langue == "fr")
				document.getElementById('name_header').innerHTML = "Accueil";
			else
				document.getElementById('name_header').innerHTML = "Home";

			const req = new XMLHttpRequest();

			req.open('GET', 'xp.xml', false);
			req.overrideMimeType('text/xml');
			req.send(null);
			if (req.status === 200 && req.readyState === XMLHttpRequest.DONE)
			{
				var formation =  '<div class="col-md-6">' + 
				'<div id="box-shadow-object" style="height:442px;box-shadow: rgba(0, 0, 0, 0.75) 10px 10px 5px 0px; background-color: rgb(245, 245, 245);">'; 
				if (langue == "fr")
					formation += '<h3>Expérience Professionnel</h3>';
				else
					formation += '<h3>Professional Experience</h3>';
				var parser = new DOMParser();
				xmlDoc = parser.parseFromString(req.responseText, "text/xml");
				var mainNode = xmlDoc.getElementsByTagName('work')[0];
				for (var i = 0 ; i < 3 ; ++i)
				{
					var node = mainNode.getElementsByTagName('job')[i];

					formation += "<hr/>";
					formation += 	"<b>" + 
							node.getElementsByTagName('entreprise')[0].childNodes[0].nodeValue +
							"</b>";
					formation += 	"<p>" + "Language: " +
							node.getElementsByTagName('language')[0].childNodes[0].nodeValue +
							"</p>";
					formation += 	"<p>" + "Tool: " +
							node.getElementsByTagName('tool')[0].childNodes[0].nodeValue +
							"</p>";
				}
				formation += '</div></div>'; 
			}

			req.open('GET', 'school.xml', false);
			req.overrideMimeType('text/xml');
			req.send(null);
			if (req.status === 200 && req.readyState === XMLHttpRequest.DONE)
			{
				var school =  '<div class="col-md-6">' + 
				'<div id="box-shadow-object" style="height:442px;box-shadow: rgba(0, 0, 0, 0.75) 10px 10px 5px 0px; background-color: rgb(245, 245, 245);">'; 
				if (langue == "fr")
					school += '<h3>Formation</h3>';
				else
					school += '<h3>Education</h3>';
				var parser = new DOMParser();
				xmlDoc = parser.parseFromString(req.responseText, "text/xml");
				var mainNode = xmlDoc.getElementsByTagName('allschool')[0];
				for (var i = 0 ; i < 3 ; ++i)
				{
					var node = mainNode.getElementsByTagName('school')[i];

					school += "<hr/>";
					school += 	"<b>" + 
							node.getElementsByTagName('name')[0].childNodes[0].nodeValue +
							"</b>";
					if (langue == "fr")
					{
						school += 	"<p>" +
							node.getElementsByTagName('description')[0].childNodes[0].nodeValue +
							"</p>";
					}
					else
					{
						school += 	"<p>" +
							node.getElementsByTagName('descriptionEN')[0].childNodes[0].nodeValue +
							"</p>";
					}
					school += 	"<p>" +
							node.getElementsByTagName('country')[0].childNodes[0].nodeValue +
							"</p>";
				}
				school += '</div></div>'; 
			}

			req.open('GET', 'project42.xml', false);
			req.overrideMimeType('text/xml');
			req.send(null);
			if (req.status === 200 && req.readyState === XMLHttpRequest.DONE)
			{
				var project42 =  '<div class="col-md-6">' + 
				'<div id="box-shadow-object" style="height:442px;margin-bottom:42px;box-shadow: rgba(0, 0, 0, 0.75) 10px 10px 5px 0px; background-color: rgb(245, 245, 245);">'; 
				if (langue == "fr")
					project42 += '<h3>Projet42</h3>';
				else
					project42 += '<h3>Project 42</h3>';
				var parser = new DOMParser();
				xmlDoc = parser.parseFromString(req.responseText, "text/xml");
				var mainNode = xmlDoc.getElementsByTagName('allproject')[0];
				for (var i = 0 ; i < 3 ; ++i)
				{
					var node = mainNode.getElementsByTagName('project')[i];

					project42 += "<hr/>";
					project42 += 	"<b>" + 
							node.getElementsByTagName('name')[0].childNodes[0].nodeValue +
							"</b>";
					project42 += 	"<p>" + "Language: " +
							node.getElementsByTagName('language')[0].childNodes[0].nodeValue +
							"</p>";
					project42 += 	"<p>" + "Tool: " +
							node.getElementsByTagName('tool')[0].childNodes[0].nodeValue +
							"</p>";
				}
				project42 += '</div></div>'; 
			}

			req.open('GET', 'opensource.xml', false);
			req.overrideMimeType('text/xml');
			req.send(null);
			if (req.status === 200 && req.readyState === XMLHttpRequest.DONE)
			{
				var opensource =  '<div class="col-md-6">' + 
				'<div id="box-shadow-object" style="height:442px;margin-bottom:42px;box-shadow: rgba(0, 0, 0, 0.75) 10px 10px 5px 0px; background-color: rgb(245, 245, 245);">'; 
				if (langue == "fr")
					opensource += '<h3>Autodidacte/OpenSource</h3>';
				else
					opensource += '<h3>Self-Educated/OpenSource</h3>';
				var parser = new DOMParser();
				xmlDoc = parser.parseFromString(req.responseText, "text/xml");
				var mainNode = xmlDoc.getElementsByTagName('allproject')[0];
				for (var i = 0 ; i < 3 ; ++i)
				{
					var node = mainNode.getElementsByTagName('project')[i];

					opensource += "<hr/>";
					opensource += 	"<b>" + 
							node.getElementsByTagName('name')[0].childNodes[0].nodeValue +
							"</b>";
					opensource += 	"<p>" + "Language: " +
							node.getElementsByTagName('language')[0].childNodes[0].nodeValue +
							"</p>";
					opensource += 	"<p>" + "Tool: " +
							node.getElementsByTagName('tool')[0].childNodes[0].nodeValue +
							"</p>";
				}
				opensource += '</div></div>'; 
			}

				var skill =  '<div class="col-md-6">' + 
				'<div id="box-shadow-object" style="height:442px;box-shadow: rgba(0, 0, 0, 0.75) 10px 10px 5px 0px; background-color: rgb(245, 245, 245);">';
				if (langue == "fr")
					skill += '<h3>Compétence</h3><hr/>';
				else
					skill += '<h3>Skill</h3><hr/>';
				skill += '<div id="donutchart" style="height:342px;"></div></div></div>'; 
				var tool =  '<div class="col-md-6">' + 
				'<div id="box-shadow-object" style="height:442px;box-shadow: rgba(0, 0, 0, 0.75) 10px 10px 5px 0px; background-color: rgb(245, 245, 245);">';
				if (langue == "fr")
					tool += '<h3>Outils</h3><hr/>';
				else
					tool += '<h3>Tools</h3><hr/>';
				tool += '<div id="donutchart1" style="height:342px;"></div></div></div>'; 


			google.charts.load("current", {packages:["corechart"]});
			google.charts.setOnLoadCallback(drawChart);
			google.charts.setOnLoadCallback(drawChartTool);

			//draw chart after resize web page
			$(window).resize(function(){
				drawChart();
				drawChartTool();
			});

			function drawChart() {
				var data = google.visualization.arrayToDataTable([
						['Language', 'Number'],
						['Sleep',    0]
				]);
				for (var l = 0 ; ret[l] ; ++l)
					data.addRows([[ret[l].name, ret[l].nb]]);

				var options = {
					width: '100%',
					height: '100%',
					is3D: true,
					chartArea: {left: "3%",top: "3%",height: "94%",width: "94%"},
					title: 'Language',
					pieHole: 0.3,
					backgroundColor: '#f5f5f5',
				};

				var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
				chart.draw(data, options);
			}
			function drawChartTool() {
				var data = google.visualization.arrayToDataTable([
						['Tool', 'Number'],
						['Sleep',    0]
				]);
				for (var l = 0 ; rettool[l] ; ++l)
					data.addRows([[rettool[l].name, rettool[l].nb]]);

				var options = {
					width: '100%',
					height: '100%',
					is3D: true,
					chartArea: {left: "3%",top: "3%",height: "94%",width: "94%"},
					title: 'Tool/Library',
					pieHole: 0.3,
					backgroundColor: '#f5f5f5',
				};

				var chart = new google.visualization.PieChart(document.getElementById('donutchart1'));
				chart.draw(data, options);
			}
			document.getElementById("main_div").style.padding = "0px";
			document.getElementById("main_div").style.backgroundColor = "white";
			document.getElementById('main_div').innerHTML = '<div>' +
				formation + school + skill + tool + project42 + opensource + '</div>';
		}
		function project()
		{
			$('.navbar-collapse').collapse('hide');
			document.getElementById("main_div").style.backgroundColor = "#f5f5f5";
			document.getElementById("main_div").style.padding = "15px";

			document.getElementById(oldpage).className = '';
			oldpage = 'projetid';
			document.getElementById(oldpage).className = 'active';
			if (langue == "fr")
				document.getElementById('name_header').innerHTML = "Projet 42";
			else
				document.getElementById('name_header').innerHTML = "Project 42";
			const req = new XMLHttpRequest();
			req.open('GET', 'project42.xml', false);
			req.overrideMimeType('text/xml');
			req.send(null);
			if (req.status === 200 && req.readyState === XMLHttpRequest.DONE)
			{
				var ret = "";
				var parser = new DOMParser();
				xmlDoc = parser.parseFromString(req.responseText, "text/xml");
				var mainNode = xmlDoc.getElementsByTagName('allproject')[0];
				for (var i = 0 ; i < xmlDoc.getElementsByTagName('project').length ; ++i)
				{
					var node = mainNode.getElementsByTagName('project')[i];

					ret += "<h4>" + 
							node.getElementsByTagName('name')[0].childNodes[0].nodeValue + 
							"</h4>";
					ret += 	"<i>" + 
							node.getElementsByTagName('date')[0].childNodes[0].nodeValue +
							"</i></br>";
					if (langue == "fr")
					{
						var text = node.getElementsByTagName('description')[0].childNodes[0].nodeValue;
						ret += 	"<p>" + 
								parseIntoParagraph(text) +
								"</p>";
					}
					else
					{
						var textEN = node.getElementsByTagName('descriptionEN')[0].childNodes[0].nodeValue;
						ret += 	"<p>" + 
								parseIntoParagraph(textEN) +
								"</p>";
					}
					ret += 	"<p>" + "Language: " +
							node.getElementsByTagName('language')[0].childNodes[0].nodeValue +
							"</p>";
					ret += 	"<p>" + "Tool: " +
							node.getElementsByTagName('tool')[0].childNodes[0].nodeValue +
							"</p>";
					ret += "<hr/>";
				}
				document.getElementById('main_div').innerHTML = ret; 
			}
		}	
		function opensource()
		{
			$('.navbar-collapse').collapse('hide');
			document.getElementById("main_div").style.backgroundColor = "#f5f5f5";
			document.getElementById("main_div").style.padding = "15px";

			document.getElementById(oldpage).className = '';
			oldpage = 'opensourceid';
			document.getElementById(oldpage).className = 'active';
			if (langue == "fr")
				document.getElementById('name_header').innerHTML = "Autodidacte/OpenSource";
			else
				document.getElementById('name_header').innerHTML = "Self-Educated/OpenSource"; 
			const req = new XMLHttpRequest();
			req.open('GET', 'opensource.xml', false);
			req.overrideMimeType('text/xml');
			req.send(null);
			if (req.status === 200 && req.readyState === XMLHttpRequest.DONE)
			{
				var ret = "";
				var parser = new DOMParser();
				xmlDoc = parser.parseFromString(req.responseText, "text/xml");
				var mainNode = xmlDoc.getElementsByTagName('allproject')[0];
				for (var i = 0 ; i < xmlDoc.getElementsByTagName('project').length ; ++i)
				{
					var node = mainNode.getElementsByTagName('project')[i];

					ret += "<h4>" + 
							node.getElementsByTagName('name')[0].childNodes[0].nodeValue + 
							"</h4>";
					ret += 	"<i>" + 
							node.getElementsByTagName('date')[0].childNodes[0].nodeValue +
							"</i></br>";
					if (langue == "fr")
					{
						var desc = node.getElementsByTagName('description')[0].childNodes[0].nodeValue;
						ret += 	"<p>" + 
								parseIntoParagraph(desc) +
								"</p>";
					}
					else
					{
						var descEN = node.getElementsByTagName('descriptionEN')[0].childNodes[0].nodeValue;
						ret += 	"<p>" + 
								parseIntoParagraph(descEN) +
								"</p>";
					}
					ret += 	"<p>" + "Language: " +
							node.getElementsByTagName('language')[0].childNodes[0].nodeValue +
							"</p>";
					ret += 	"<p>" + "Tool: " +
							node.getElementsByTagName('tool')[0].childNodes[0].nodeValue +
							"</p>";
					ret += "<hr/>";
				}
				document.getElementById('main_div').innerHTML = ret; 
			}
		}
		function work()
		{
			$('.navbar-collapse').collapse('hide');
			document.getElementById("main_div").style.backgroundColor = "#f5f5f5";
			document.getElementById("main_div").style.padding = "15px";

			document.getElementById(oldpage).className = '';
			oldpage = 'xpid';
			document.getElementById(oldpage).className = 'active';
			if (langue == "fr")
				document.getElementById('name_header').innerHTML = "Expérience Professionnel";
			else
				document.getElementById('name_header').innerHTML = "Professional Experience"; 
			const req = new XMLHttpRequest();
			req.open('GET', 'xp.xml', false);
			req.overrideMimeType('text/xml');
			req.send(null);
			if (req.status === 200 && req.readyState === XMLHttpRequest.DONE)
			{
				var ret = "";
				var parser = new DOMParser();
				xmlDoc = parser.parseFromString(req.responseText, "text/xml");
				var mainNode = xmlDoc.getElementsByTagName('work')[0];
				for (var i = 0 ; i < xmlDoc.getElementsByTagName('job').length ; ++i)
				{
					var node = mainNode.getElementsByTagName('job')[i];

					if (langue == "fr")
					{
						ret += "<h4>" + 
								node.getElementsByTagName('description')[0].childNodes[0].nodeValue + 
								"</h4>";
					}
					else
					{
						ret += "<h4>" + 
								node.getElementsByTagName('descriptionEN')[0].childNodes[0].nodeValue + 
								"</h4>";
					}
					if (langue == "fr")
					{
						ret += 	"<i>" + 
							node.getElementsByTagName('date')[0].childNodes[0].nodeValue +
							"</i></br>";
					}
					else
					{
						var res = node.getElementsByTagName('date')[0].childNodes[0].nodeValue.replace("Aujourd'hui", "Today");
						ret += 	"<i>" + res + "</i></br>";
					}
					ret += 	"<b>" + 
							node.getElementsByTagName('entreprise')[0].childNodes[0].nodeValue +
							"</b>";
					if (langue == "fr")
					{
						var info = node.getElementsByTagName('info')[0].childNodes[0].nodeValue;
						ret += 	"<p>" + 
								parseIntoParagraph(info) +
								"</p>";
					}
					else
					{
						var infoEN = node.getElementsByTagName('infoEN')[0].childNodes[0].nodeValue;
						ret += 	"<p>" + 
								parseIntoParagraph(infoEN) +
								"</p>";
					}
					ret += 	"<p>" + "Language: " +
							node.getElementsByTagName('language')[0].childNodes[0].nodeValue +
							"</p>";
					ret += 	"<p>" + "Tool: " +
							node.getElementsByTagName('tool')[0].childNodes[0].nodeValue +
							"</p>";
					ret += "<hr/>";
				}
				document.getElementById('main_div').innerHTML = ret; 
			}
		}
		function school()
		{
			$('.navbar-collapse').collapse('hide');
			document.getElementById("main_div").style.backgroundColor = "#f5f5f5";
			document.getElementById("main_div").style.padding = "15px";

			document.getElementById(oldpage).className = '';
			oldpage = 'schoolid';
			document.getElementById(oldpage).className = 'active';
			if (langue == "fr")
				document.getElementById('name_header').innerHTML = "Formation";
			else
				document.getElementById('name_header').innerHTML = "Education"; 
			const req = new XMLHttpRequest();
			req.open('GET', 'school.xml', false);
			req.overrideMimeType('text/xml');
			req.send(null);
			if (req.status === 200 && req.readyState === XMLHttpRequest.DONE)
			{
				var ret = "";
				var parser = new DOMParser();
				xmlDoc = parser.parseFromString(req.responseText, "text/xml");
				var mainNode = xmlDoc.getElementsByTagName('allschool')[0];
				for (var i = 0 ; i < xmlDoc.getElementsByTagName('school').length ; ++i)
				{
					var node = mainNode.getElementsByTagName('school')[i];

					if (langue == "fr")
					{	
						ret += "<h4>" + 
								node.getElementsByTagName('description')[0].childNodes[0].nodeValue + 
								"</h4>";
					}
					else
					{
						ret += "<h4>" + 
								node.getElementsByTagName('descriptionEN')[0].childNodes[0].nodeValue + 
								"</h4>";
					}
					ret += 	"<i>" + 
							node.getElementsByTagName('date')[0].childNodes[0].nodeValue +
							"</i></br>";
					ret += 	"<b>" + 
							node.getElementsByTagName('name')[0].childNodes[0].nodeValue +
							"</b>";
					ret += 	"<p>" + 
							parseIntoParagraph(node.getElementsByTagName('country')[0].childNodes[0].nodeValue) +
							"</p>";
					ret += 	'<a class="btn btn-default" href=' + 
							node.getElementsByTagName('website')[0].childNodes[0].nodeValue +
							">Website</a>"; 
					ret += "<hr/>";
				}
				document.getElementById('main_div').innerHTML = ret; 
			}

		}
		function search(ret, find)
		{
			for (var i = 0 ; ret[i] ; ++i)
			{
				if (ret[i].name == find)
					 return (i);
			}
			return (-1);
		}
		function debug(ret)
		{
			for (var i = 0 ; ret[i] ; ++i)
			{
				console.log(ret[i].name + " " + ret[i].nb);
			}
		}
		function skill()
		{
			$('.navbar-collapse').collapse('hide');
			document.getElementById("main_div").style.backgroundColor = "#f5f5f5";
			document.getElementById("main_div").style.padding = "15px";

			document.getElementById(oldpage).className = '';
			oldpage = 'skillid';
			document.getElementById(oldpage).className = 'active';
			if (langue == "fr")
				document.getElementById('name_header').innerHTML = "Compétence";
			else
				document.getElementById('name_header').innerHTML = "Skill"; 

			document.getElementById('main_div').innerHTML = 
				'<div class="" style="padding-top:10px;padding-bottom:10px;">' + 
				'<span onclick="sortList()" class="glyphicon glyphicon-list btn btn-default">' + 
				'<span style="padding-left:5px;">list</span></span>' +
				'<span onclick="sortGraph()" class="glyphicon glyphicon-cd btn btn-default">' +
				'<span style="padding-left:5px;">graph</span></span>' +
				'</div>';
			if (sortSkill == "list")
				drawList(ret, rettool);
			else if (sortSkill == "graph")
				drawChartGoogle(ret, rettool, skill);	
		}
		function sortList()
		{
			sortSkill = "list";
			skill();
		}
		function sortGraph()
		{
			sortSkill = "graph";
			skill();
		}
		function drawList(ret, rettool)
		{
			var divlanguage = '<div class="col-md-12" id="donutchart"><h3>Language</h3><table class="table-bordered">';
			for (var n = 0 ; ret[n] ; ++n)
				divlanguage += '<tr><td style="width:100px;">' + 
					ret[n].name + '</td><td style="width:100px;text-align:center;">' + 
					ret[n].nb + ' Project</td></tr>';
			divlanguage += '</table></div>';
			var divtool = '<div class="col-md-12" id="donutchart1"><h3>Tools</h3><table class="table-bordered">';
			for (var k = 0 ; rettool[k] ; ++k)
				divtool += '<tr><td style="width:100px;">' + 
					rettool[k].name + '</td><td style="width:100px;text-align:center;">' + 
					rettool[k].nb + ' Project</td></tr>';
			divtool += '</table></div>';
			document.getElementById('main_div').innerHTML += 
				'<div class="row">' + 
				divlanguage + divtool + '</div>'; 
		}
		function drawChartGoogle(ret, rettool, skill)
		{
		  	var divlanguage = '<div class="col-md-12"><div id="donutchart" style="height:442px;"></div></div>';
			var divtool = '<div class="col-md-12"><div id="donutchart1" style="height:442px;"></div></div>';
			google.charts.load("current", {packages:["corechart"]});
			google.charts.setOnLoadCallback(drawChart);
			google.charts.setOnLoadCallback(drawChartTool);

			//draw chart after resize web page
			$(window).resize(function(){
				drawChart();
				drawChartTool();
			});

			function drawChart() {
				var data = google.visualization.arrayToDataTable([
						['Language', 'Number'],
						['Sleep',    0]
				]);
				for (var l = 0 ; ret[l] ; ++l)
					data.addRows([[ret[l].name, ret[l].nb]]);

				var options = {
					height: '100%',
					is3D: true,
					title: 'Language',
					pieHole: 0.3,
					backgroundColor: '#f5f5f5',
				};

				var chart = new google.visualization.PieChart(document.getElementById('donutchart'));
				chart.draw(data, options);
			}
			function drawChartTool() {
				var data = google.visualization.arrayToDataTable([
						['Tool', 'Number'],
						['Sleep',    0]
				]);
				for (var l = 0 ; rettool[l] ; ++l)
					data.addRows([[rettool[l].name, rettool[l].nb]]);

				var options = {
					height: '100%',
					is3D: true,
					title: 'Tool/Library',
					pieHole: 0.3,
					backgroundColor: '#f5f5f5',
				};

				var chart = new google.visualization.PieChart(document.getElementById('donutchart1'));
				chart.draw(data, options);
			}
			document.getElementById('main_div').innerHTML += 
				'<div class="row" style="padding-bottom:42px;">' + 
				divlanguage + divtool + '</div>'; 
		}
		function skillInDate(splitDate)
		{
			var skill;
			var beginSplit = splitDate[0].split('/');
			var endSplit = splitDate[1].split('/');

			var beginMonth = parseInt(beginSplit[0]);
			var beginYear = parseInt(beginSplit[1]);
			if (splitDate[1] == "Aujourd'hui")
			{
				var today = new Date();
				var endMonth = today.getMonth() + 1;
				var endYear = today.getFullYear();
			}
			else
			{
				var endMonth = parseInt(endSplit[0]);
				var endYear = parseInt(endSplit[1]);
			}
			var skill = 0;
			skill += beginMonth - endMonth;
			if (skill < 0)
				skill *= -1;
			skill += (endYear - beginYear) * 12;
			return (skill);
		}
		function compare(a,b) 
		{
			if (a.nb > b.nb)
				return -1;
			if (a.nb < b.nb)
				return 1;
			return 0;
		}
		function tutorial()
		{
			$('.navbar-collapse').collapse('hide');
			document.getElementById("main_div").style.backgroundColor = "#f5f5f5";
			document.getElementById("main_div").style.padding = "15px";

			document.getElementById(oldpage).className = '';
			oldpage = 'tutorialid';
			document.getElementById(oldpage).className = 'active';
			if (langue == "fr")
				document.getElementById('name_header').innerHTML = "Tutoriel";
			else
				document.getElementById('name_header').innerHTML = "Tutorial"; 
			document.getElementById('main_div').innerHTML = ""; 
		}
		function aboutme()
		{
			$('.navbar-collapse').collapse('hide');
			document.getElementById("main_div").style.backgroundColor = "#f5f5f5";
			document.getElementById("main_div").style.padding = "15px";

			document.getElementById(oldpage).className = '';
			oldpage = 'aboutmeid';
			document.getElementById(oldpage).className = 'active';
			if (langue == "fr")
				document.getElementById('name_header').innerHTML = "A Propos de Moi";
			else
				document.getElementById('name_header').innerHTML = "About Me";

			var text = "";
			const req = new XMLHttpRequest();
			req.open('GET', 'aboutme.xml', false);
			req.overrideMimeType('text/xml');
			req.send(null);
			if (req.status === 200 && req.readyState === XMLHttpRequest.DONE)
			{
				var parser = new DOMParser();
				xmlDoc = parser.parseFromString(req.responseText, "text/xml");
				
				var mainNode = xmlDoc.getElementsByTagName('aboutme')[0];
				if (langue == "fr")
					  text = mainNode.getElementsByTagName('fr')[0].childNodes[0].nodeValue;
				else
					  text = mainNode.getElementsByTagName('en')[0].childNodes[0].nodeValue;
			}
			document.getElementById('main_div').innerHTML = parseIntoParagraph(text); 
		}
		function contact()
		{
			$('.navbar-collapse').collapse('hide');
			document.getElementById("main_div").style.backgroundColor = "#f5f5f5";
			document.getElementById("main_div").style.padding = "15px";

			document.getElementById(oldpage).className = '';
			oldpage = 'contactid';
			document.getElementById(oldpage).className = 'active';
			document.getElementById('name_header').innerHTML = "Contact";

			const req = new XMLHttpRequest();
			req.open('GET', 'contact.xml', false);
			req.overrideMimeType('text/xml');
			req.send(null);
			if (req.status === 200 && req.readyState === XMLHttpRequest.DONE)
			{
				var parser = new DOMParser();
				xmlDoc = parser.parseFromString(req.responseText, "text/xml");
				
				var mainNode = xmlDoc.getElementsByTagName('contact')[0];

				var github = 	'<div class="btn btn-default" ' + stylea + ' onclick="openInNewTab(' + "'" +
								mainNode.getElementsByTagName('github')[0].childNodes[0].nodeValue + "'"
								+ ');">' + "Github" + '</div>';
				var linkedin = 	'<div class="btn btn-default" ' + stylea + ' onclick="openInNewTab(' + "'" +
								mainNode.getElementsByTagName('linkedin')[0].childNodes[0].nodeValue + "'"
								+ ');">' 
								+ "Linkedin" + '</div>';
				var viadeo = 	'<div class="btn btn-default" ' + stylea + ' onclick="openInNewTab(' + "'" +
								mainNode.getElementsByTagName('viadeo')[0].childNodes[0].nodeValue  + "'"
								+ ');">' + "Viadeo" + '</div>';
				var school = 	'<div class="btn btn-default" ' + stylea + ' onclick="openInNewTab(' + "'" +
								mainNode.getElementsByTagName('school')[0].childNodes[0].nodeValue + "'"
								+ ');">' + 
								"CV 42" + '</a>';
				var email = 	'<a class="btn btn-default" ' + stylea + ' href="' + 
								"mailto:" + 
								mainNode.getElementsByTagName('email')[0].childNodes[0].nodeValue
								+ '">' + "Contact Email" + '</a>';
				var email42 = 	'<a class="btn btn-default" ' + stylea + ' href="' + 
								"mailto:" + 
								mainNode.getElementsByTagName('email42')[0].childNodes[0].nodeValue
								+ '">' + "Contact Email42" + '</a>';
				var pdf = '<a href="#" class="btn btn-default" ' + stylea + ' onclick="pdf()">CV Pdf</a>';
				var style =		"style=font-size:16px;padding-right:15px;height:42px;";
				document.getElementById('main_div').innerHTML = 
						"<table>" +
						"<tr><td " + style + ">MyGithub</td><td>" + github + "</td></tr>" + 
						"<tr><td " + style + ">MyLinkedin</td><td>" + linkedin + "</td></tr>" + 
						"<tr><td " + style + ">MyViadeo</td><td>" + viadeo + "</td></tr>" + 
						"<tr><td " + style + ">MyCV42</td><td>" + school + "</td></tr>" + 
						"<tr><td " + style + ">MyMail</td><td>" + email + "</td></tr>" + 
						"<tr><td " + style + ">MyMail42</td><td>" + email42 + "</td></tr>" + 
						"<tr><td " + style + ">MyCvPdf</td><td>" + pdf + "</td></tr>" + 
						"</table>";
			}
		}
		function openInNewTab(url)
		{
			var win = window.open(url, '_blank');
			win.focus();
		}
	  </script>

	  <script>window.jQuery || document.write('<script src=js/vendor/jquery.min.js"><\/script>')</script>
	  <script src="js/bootstrap.min.js"></script>
	  <!-- Just to make our placeholder images work. Don't actually copy the next line! -->
	  <script src="js/vendor/holder.min.js"></script>
	  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
	  <script src="js/ie10-viewport-bug-workaround.js"></script>
	</body>
</html>
